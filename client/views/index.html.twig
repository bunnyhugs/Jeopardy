{% extends 'layout.html.twig' %}

{% block content %}

    <div style="text-align: center">
        <h1>Choose a player:</h1>
        {% for player in players %}
            <a class="player-choice" href="{{ path }}play/{{ player }}">
                <div class="player-select">
                    <h2>{{ player }}</h2>
                </div>
            </a>
        {% endfor %}
                <div class="player-select">
		     <form id="customNameForm" action="#">
		    Other: <input class="customName" id="customName" type="text" />
                    <input type="submit" class="customName" id="joinNew" value="Join"/></form>
                </div>

        <hr />

        <h1><a href="{{ path }}obs">I'm just watching</a></h1>
    </div>

    <script>
        var jeo = window.jeopardy;
        $(document).ready(function() {
            $('#customNameForm').submit(function() {
	        name = $('#customName').val();
                jeo.attemptContestantJoin(name);
		$(this).attr('action', '{{ path}}play/' + name);
		return true;
            });
	});
    </script>

{% endblock %}
